<!DOCTYPE html>
<html lang="en" ng-app="ripple" class="no-js">
<head>
  <base href="/">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Ripple Missions</title>
  <meta name="description" content="">
  <meta name="theme-color" content="#333333">
  <link rel="manifest" href="manifest.json" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.min.css">
  <meta name="mobile-web-app-capable" content="yes">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css">
  <link rel="stylesheet" href="assets/styles/flags32-iso-3166-1-alpha-2.css">
  <link rel="stylesheet" href="app.css">
  <script type="text/javascript">window.version = '04-27-19-1218';</script>
  <script src="env.js"></script>
  <script>
    //Load env variables
    var env = {};

    // Import variables if present (from env.js)
    if(window){  
      Object.assign(env, window.__env);
    }
    //console.log(env);
  </script>

  <script>
    // Detects if device is on iOS 
    const isIos = () => {
      const userAgent = window.navigator.userAgent.toLowerCase();
      return /iphone|ipad|ipod/.test( userAgent );
    }
    // Detects if device is in standalone mode
    const isInStandaloneMode = () => ('standalone' in window.navigator) && (window.navigator.standalone);

    // Checks if should display install popup notification:
    if (isIos() && !isInStandaloneMode()) {
      this.setState({ showInstallMessage: true });
    }
  </script>
</head>
<body id="body">
  <script type="text/javascript">
    // init maps api
      var script = document.createElement('script');
      script.type = 'text/javascript';
      script.src = 'https://maps.googleapis.com/maps/api/js?key='+env.GoogleMapsApiKey+'&libraries=places';
      document.body.appendChild(script);
  </script>
  <div class="container-fluid" style="margin: 0px; padding: 0px;">
    <!--
    <nav-menu></nav-menu>
    -->
    <div ng-view autoscroll></div>
  </div>
  <div id="settings" class="page" style="display: none" ng-controller="SettingsCtrl">
    <div class="col">
      <div class="page-title">Settings</div>
      <div class="col-sm-12 nopad">
        <b>Enable notifications?</b>
        <label class="switch float-right" style="margin-top: 0px;">
          <input type="checkbox" class="enable-notifications" />
          <span class="slider round"></span>
        </label>
        <!--<button class="btn btn-sm btn-primary enable-notifications">Yes, enable</button>-->
        <br /><p style="font-size: small">NOTE: You can disable notifications in device app settings.</p>
        <!--
        <b>Install App to Homescreen?</b>
        <button class="btn btn-sm btn-block btn-primary install-app">Install App</button>
        -->
      </div>
    </div>
  </div>
<!--HOME-->  
  <script type="text/ng-template" id="home.html">
    <div class="page container-fluid">
      <div style="margin-top: -50px; width: 100%; background-color: #0094FF;">
        <img src="assets/images/ripple-missions-icon.jpg" style="width: 42px" />&nbsp;&nbsp;
        <img src="assets/images/ripple-missions-words-white.png" style="padding-top: 5px; width: 45%" />
      </div>
      <div class="col clear">
        <input id="church-search" type="text" class="form-control" style="margin-top: 15px;" ng-model="churchQuery" ng-show="!confirmChurch && !displayChurchQuery" ng-blur="showChurchConfirm()" placeholder="Type Church Name" />
        <div ng-show="displayChurchQuery" class="clear" style="margin-top: -20px;">
          <br />{{displayChurchQuery|churchname}}
          <div class="float-right" style="margin-top: -5px;">&nbsp;
            <small ng-if="displayChurchQuery && !confirmChurch">
              <a href="" ng-click="changeChurch()">Change</a>
            </small>
          </div>
        </div>
        <br />
        <!--CHURCH CONFIRM-->
        <div class="center">
          <div class="pull-right" ng-show="confirmChurch" style="padding-bottom: 20px;">Is this your church? <br /><br />
            <button class="btn btn-primary btn-sm" ng-click="selectChurch()">Yes, let's go!</button>
            &nbsp;&nbsp;&nbsp;
            <button class="btn btn-warning btn-sm" ng-click="resetSearch()">No, start over...</button>
          </div>
        </div>
        <!--/CHURCH CONFIRM-->
      </div>
      <!--LOADER-->
      <div id="loading" ng-if="loading" class="center row" style="margin-top: 30px;">
        <div class="center fullwidth bold" ng-if="loadingMessage">{{loadingMessage}}</div>
        <div class="lds-css ng-scope center"><div style="width:100%;height:100%" class="lds-ripple"><div></div><div></div></div></div>
      </div>
      <!--/LOADER-->
      <!--EMPTY LIST-->
      <div class="col" ng-if="missionsByChurch.length == 0 && displayChurchQuery && !confirmChurch && !loading">
        <h3>Oh no! No missionaries were found for your church. :(</h3>
        <h4>Steps you can take:</h4>
        <ol style="padding-inline-start: 15px">
          <li style="margin-left: 0px">
            You can ask your church to add missionaries here:
            <a href="http://ripplemissions.com/suggest" class="">ripplemissions.com/suggest</a>
          </li>
          <li style="margin-left: 0px">
            You can add missionaries yourself if you'd like:
            <a href="http://ripplemissions.com/suggest" class="">ripplemissions.com/suggest</a>
          </li>
          <li style="margin-left: 0px">
            You can email us at<br />
            <a href="mailto:pebble@ripplemissions.com">pebble@ripplemissions.com</a> with missionary or church info so we can add them.
          </li>
        </ol>
      </div>
      <!--START OVER BUTTON-->
      <div class="center" ng-show="missionsByChurch.length == 0 && displayChurchQuery && !confirmChurch"><button class="btn btn-primary btn-sm" ng-click="resetSearch()">Start over...</button></div>
      <!--MISSIONS LIST-->
      <div class="listitems">
        <div class="listitem" ng-if="missionsByChurch.length > 0" ng-repeat="mission in missionsByChurch track by mission.id">
          <div class="row">
            <div class="col-3 offset-md-1" style="margin-top: 15px; margin-left: 0px" ng-show="mission.acf.photo">
              <img ng-src="{{mission.acf.photo}}" width="120" />
            </div>
            <div class="col-3 offset-md-1" style="margin-top: 15px; margin-left: 0px" ng-show="!mission.acf.photo">
              <img src="https://ripplemissions.com/wp-content/uploads/2019/04/ripple-icon-192.jpg" width="120" />
            </div>
            <div class="col" style="margin-left: 20px;">
              <h3 style="font-size: 6.0vw">{{mission.acf.name|amp}}</h3>  
              <div style="margin-top: -10px">
                <div class="text-muted">
                  <div ng-if="mission.acf.category">{{mission.acf.category}} <span ng-if="mission.acf.country" style="margin-top: -5px;"> in {{mission.acf.country.name}}</span></div>
                  <div style="font-size: 16px;">
                    <div class="f32" style="display: inline;">
                      <div class="flag {{mission.acf.country.slug}}"></div>
                    </div>
                    <span style="margin-top: 7px !important; margin-left: 5px; position: absolute;">
                      <a class="link" style="margin-left: 5px; line-height: 0.8em" target="_blank" href="https://www.cia.gov/library/publications/the-world-factbook/geos/{{mission.acf.country.slug}}.html">CIA Facts <i class="fas fa-fw fa-external-link-alt"></i></a>
                    </span>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="row" ng-show="mission.acf.bio">
            <div class="col-1"></div>  
            <div class="col" style="margin-right: 20px;">
              <h4>Bio:</h4>
              <span class="wysiwyg-html" ng-bind-html="mission.acf.bio"></span>
            </div>
          </div>
          <!--CONTACT INFO-->
          <div class="row">
            <div class="col-1"></div>  
            <div class="col" style="margin-right: 20px;">
              <h4>Contact Info:</h4>
              <div ng-if="mission.acf.should_supporters_directly_email[0]=='yes'">
                <i class="far fa-fw fa-envelope pull-right" title="Email"></i>
                <a class="link" ng-href="mailto:{{mission.acf.email}}">{{mission.acf.email}}</a>
              </div>
              <div ng-if="mission.acf.should_supporters_directly_text[0]=='yes'">
                <i class="fas fa-fw fa-phone-square" title="Phone"></i>
                <a class="link" ng-href="mailto:{{mission.acf.phone}}">{{mission.acf.phone}}</a>
              </div>
              <div ng-if="mission.acf.websiteblog">
                <i class="fas fa-fw fa-globe" title="Website"></i>
                <a class="link" ng-href="{{mission.acf.websiteblog}}">{{mission.acf.websiteblog|nohttp}}</a>
              </div>
              <div ng-if="mission.acf.facebook_page">
                <i class="fab fa-fw fa-facebook-f" title="Facebook"></i>
                <a class="link" ng-href="https://facebook.com/{{mission.acf.facebook_page}}">{{mission.acf.facebook_page|nohttp}}</a>
              </div>
              <div ng-if="mission.acf.twitter_profile">
                <i class="fab fa-fw fa-twitter" title="Twitter"></i>
                <a class="link" ng-href="https://twitter.com/{{mission.acf.twitter_profile}}">@{{mission.acf.twitter_profile|nohttp}}</a>
              </div>
              <div ng-if="mission.acf.instagram">
                <i class="fab fa-fw fa-instagram" title="Instagram"></i>
                <a class="link" ng-href="https://instagram.com/{{mission.acf.instagram}}">@{{mission.acf.instagram|nohttp}}</a>
              </div>
              <div ng-if="mission.acf.whatsapp">
                <i class="fab fa-fw fa-whatsapp" title="Whatsapp"></i>
                <a class="link" ng-href="mission.acf.whatsapp">{{mission.acf.whatsapp|nohttp}}</a>
              </div>
              <div ng-if="mission.acf.other_social">
                <strong>Other:</strong> 
                {{mission.acf.other_social}}
              </div>
            </div>
          </div>
          <!--/CONTACT INFO-->
          <!--DONATION INFO-->
          <div class="row">
            <div class="col-1"></div>  
            <div class="col" style="margin-right: 20px;" ng-show="mission.acf.paypal_email || mission.acf.donation_url || mission.acf.donation_instructions">
              <h4>Donation Info:</h4>
              <div ng-if="mission.acf.paypal_email">
                <span><ripple-donate-once email="mission.acf.paypal_email" /></span>
                <span><br /><ripple-donate-monthly email="mission.acf.paypal_email" /></span>
                <br /><p class="text-muted"><small>Ripple Missions does not see or store your info, we just make it easy to give. Donations are secured and encrypted through PayPal.</small></p>
              </div>
              <div ng-if="mission.acf.donation_url">
                <br /><strong>Donate Here:</strong><br /> 
                <a class="link" ng-href="{{mission.acf.donation_url}}">{{mission.acf.donation_url}}</a>
              </div>
              <div ng-if="mission.acf.donation_instructions">
                <br /><strong>More Info:</strong><br /> 
                {{mission.acf.donation_instructions}}
              </div>
              <div ng-if="mission.acf.wishlist" class="clear">
                <br /><strong>Wishlist Items:</strong><br /> 
                <li ng-repeat="line in (mission.acf.wishlist | newlines) track by $index" ng-if="line">
                    {{line}}
                </li>
                <p class="text-muted"><small>Items you send are a great encouragement to those serving overseas.</small></p>
              </div>
            </div>
            <br />
          </div>
          <!--/DONATION INFO-->
          <!--COUNTRY INFO-->
          <div class="row">
            <div class="col-1"></div> 
            <div class="col" style="margin-right: 20px;">
              <h4>Country Info:</h4>
              
            </div>
          </div>
          <!--/COUNTRY INFO-->
          <div class="bottom-border"></div>
        </div>
      </div>
      <!--/MISSIONS LIST-->
      <div class="listitem" ng-if="missionsByChurch.length > 0">&nbsp;</div>
      <br /><br />
      <div class="col-md-12" ng-if="missionsByChurch.length > 0">
        <h4>Where in the world is Missy McMissions?</h4>
        Oops! Are we missing a missionary? Please add them here: <a href="http://ripplemissions.com/suggest" class="">ripplemissions.com/suggest</a> 
        or email us at <a href="mailto:pebble@ripplemissions.com">pebble@ripplemissions.com</a>. We'll add them for you!<br />
      </div>
  </script>
<!--/HOME-->
<!--ABOUT-->
  <script type="text/ng-template" id="about.html">
    <div class="page">
        <goback></goback>
        <img ng-if="topBanner" width="100%" ng-src="assets/images/{{topBanner}}" />
        <div class="col about">
            <div class="page-title">About</div>
                <p>
                Ripple Missions is located in Colorado Springs, CO. <br />
                </p>
                <p>Our privacy policy is located <a class="link" href="http://ripplemissions.com/privacy-policy">on our website</a>.</p>
                <p>Photos by <a href="https://pixabay.com" class="link">Pixabay</a> and <a href="https://unsplash.com" class="link">Unsplash</a></p>
        </div>
    </div>
  </script>
<!--/ABOUT-->
<!--BUGS-->
  <script type="text/ng-template" id="bugs.html">
    <div class="page">
        <goback></goback>
        <img ng-if="topBanner" width="100%" ng-src="assets/images/{{topBanner}}" />
        <div class="col">
            <div class="page-title">Bug Reports&nbsp;<i class="fas fa-bug"></i></div>
              <p><br />
              Find a bug or spot a typo in our app? Oh noez! Have a question or suggestion for the app?<br /><br />Please email Ryan directly here: <a href="mailto:ryan@ripplemissions.com" class="link">ryan@ripplemissions.com</a>.</p>

              <p>
              We want to provide the best experience possible for you, so please let us know how we can improve.
              <br /><br />
              Thanks for your interest in making this app better!

              <br /><br />
              - Ripple Missions
              </p>
        </div>
    </div>
  </script>
<!--/BUGS-->
<!--SETTINGS-->
  <script type="text/ng-template" id="settings.html">
    <div class="page" ng-controller="SettingsCtrl">
        <goback></goback>
        <div class="col">
            <div class="page-title">Settings</div>
            <div class="page-title">Push Notifications</div>
            <p>
                If you would like to receive live updates, you can enable that here. Otherwise, you won't see the updates on your phone unless you click on the Announcements page. Should these updates be turned on?
            </p>
        </div>
    </div>
  </script>

<!--/SETTINGS-->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.0/angular.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.0/angular-route.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ngStorage/0.3.10/ngStorage.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="jquery.fn.js"></script>
  <script src="app.js"></script>
  <script src="controllers.js"></script>
  <script src="main.js"></script>
</body>
</html>